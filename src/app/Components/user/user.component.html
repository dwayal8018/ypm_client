<div class="container" *ngIf="viewPage">
  <h2 class="center-align">User List</h2>
  <a class="btn waves-effect waves-light green" (click)="openAddPage()">Add User</a>
  <table class="striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Phone Number</th>
        <th>Address</th>
        <th>Role</th>
        <th class="action">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of userList">
        <td>{{ user.userID }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phoneNumber }}</td>
        <td>{{ user.address }}</td>
        <td>{{ user.role }}</td>
        <td class="action-btn">
          <a class="btn waves-effect waves-light orange" (click)="editUser(user.userID ?? 0)">Edit</a>
          <a class="btn waves-effect waves-light red" (click)="deleteUser(user.userID ?? 0)">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="container" *ngIf="editPage">
  <h2 class="center-align">Create User</h2>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="input-field">
      <input id="username" formControlName="username" class="validate" />
      <label for="username">Username</label>
      <div *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched" class="text-danger">
        Username is required.
      </div>
    </div>

    <div class="input-field">
      <input id="password" type="password" formControlName="password" class="validate" />
      <label for="password">Password</label>
      <div *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" class="text-danger">
        Password is required.
      </div>
    </div>

    <div class="input-field">
      <input id="email" type="email" formControlName="email" class="validate" />
      <label for="email">Email</label>
      <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="text-danger">
        Valid email is required.
      </div>
    </div>

    <div class="input-field">
      <input id="phoneNumber" formControlName="phoneNumber" class="validate" />
      <label for="phoneNumber">Phone Number</label>
      <div *ngIf="userForm.get('phoneNumber')?.invalid && userForm.get('phoneNumber')?.touched" class="text-danger">
        Phone number is required.
      </div>
    </div>

    <div class="input-field">
      <input id="address" formControlName="address" class="validate" />
      <label for="address">Address</label>
      <div *ngIf="userForm.get('address')?.invalid && userForm.get('address')?.touched" class="text-danger">
        Address is required.
      </div>
    </div>

    <div class="input-field">
      <input id="role" formControlName="role" class="validate" />
      <label for="role">Role</label>
      <div *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched" class="text-danger">
        Role is required.
      </div>
    </div>

    <button class="btn waves-effect waves-light" type="submit" [disabled]="userForm.invalid">Save</button>
  </form>
</div>
